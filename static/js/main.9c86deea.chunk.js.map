{"version":3,"sources":["WeatherUpdates/Temp.js","WeatherUpdates/Time.js","WeatherUpdates/WeatherIcon.js","WeatherUpdates/Location.js","WeatherUpdates/Loading.js","WeatherUpdates/Day.js","WeatherUpdates/Search.js","App.js","reportWebVitals.js","index.js"],"names":["Temp","temp","weatherInfo","className","Math","round","Time","time","WeatherIcon","src","weather","icon","alt","description","Location","city","country","Loading","Day","day","Search","setCity","onBlur","e","target","value","App","useState","setCountry","setWeather","sunrise","setSunrise","sunset","setSunset","isDayTime","setIsDayTime","apiKey","useEffect","fetch","then","firstResponse","console","log","json","sys","name","latitude","coord","lat","longitude","lon","response","catch","err","getTimeSeconds","arr","split","sunriseTime","Date","toLocaleTimeString","sunsetTime","currentTime","document","body","classList","add","remove","weatherReducer","hourly","reduce","acc","getDate","dt","dayName","toLocaleDateString","weekday","push","Object","entries","map","times","slice","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9c86deea.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Temp = ({ weatherInfo }) => {\r\n  const tempTo1DecimalPlace = (temp) => {\r\n    return Math.round(temp * 10) / 10;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"center-content margin-bottom\r\n    \"\r\n    >{`${tempTo1DecimalPlace(weatherInfo.temp)}Â°c`}</div>\r\n  );\r\n};\r\n\r\nexport default Temp;\r\n","import { React } from \"react\";\r\n\r\nconst Time = ({ time }) => {\r\n  return <div className=\"center-content\">{time}</div>;\r\n};\r\n\r\nexport default Time;\r\n","import React from \"react\";\r\n\r\nconst WeatherIcon = ({ weatherInfo }) => {\r\n  return (\r\n    <img\r\n      src={`http://openweathermap.org/img/wn/${weatherInfo.weather[0].icon}@2x.png`}\r\n      alt={weatherInfo.weather[0].description}\r\n      className=\"center-content\"\r\n    ></img>\r\n  );\r\n};\r\n\r\nexport default WeatherIcon;\r\n","import React from \"react\";\r\n\r\nconst Location = ({ city, country }) => {\r\n  return <div className=\"location\">{`${city}, ${country}`}</div>;\r\n};\r\n\r\nexport default Location;\r\n","import React from \"react\";\r\n\r\nconst Loading = () => {\r\n  return <div className=\"loading\">...Loading</div>;\r\n};\r\n\r\nexport default Loading;\r\n","import React from \"react\";\r\n\r\nconst Day = ({ day }) => {\r\n  return <div className=\"center-content day-margin font\">{day}</div>;\r\n};\r\n\r\nexport default Day;\r\n","import React from \"react\";\r\nimport { FaSearch } from \"react-icons/fa\";\r\n\r\nconst Search = ({ setCity }) => {\r\n  return (\r\n    <forms className=\"search-container\">\r\n      <FaSearch className=\"search-icon\" />\r\n      <input onBlur={(e) => setCity(e.target.value)} />\r\n    </forms>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { React, useEffect, useState } from \"react\";\nimport Temp from \"./WeatherUpdates/Temp\";\nimport Time from \"./WeatherUpdates/Time\";\nimport WeatherIcon from \"./WeatherUpdates/WeatherIcon\";\nimport Days from \"./WeatherUpdates/Days\";\nimport Location from \"./WeatherUpdates/Location\";\nimport Loading from \"./WeatherUpdates/Loading\";\nimport Day from \"./WeatherUpdates/Day\";\nimport Search from \"./WeatherUpdates/Search\";\n\nfunction App() {\n  const [city, setCity] = useState(\"ambleside\");\n  const [country, setCountry] = useState(\"GB\");\n  const [weather, setWeather] = useState(null);\n  const [sunrise, setSunrise] = useState(null);\n  const [sunset, setSunset] = useState(null);\n  const [daysList, setDaysList] = useState([\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n    \"Sunday\",\n  ]);\n  const [isDayTime, setIsDayTime] = useState(false);\n  const apiKey = \"7d043bcfc64688d86d552f1455872213\";\n\n  useEffect(() => {\n    fetch(\n      `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}`\n    )\n      .then((firstResponse) => {\n        console.log(firstResponse);\n        return firstResponse.json();\n      })\n      .then((firstResponse) => {\n        console.log(firstResponse, firstResponse.sys.sunrise);\n        setCountry(firstResponse.sys.country);\n        setCity(firstResponse.name);\n        setSunrise(firstResponse.sys.sunrise);\n        setSunset(firstResponse.sys.sunset);\n        const latitude = firstResponse.coord.lat;\n        const longitude = firstResponse.coord.lon;\n\n        return fetch(\n          `https://api.openweathermap.org/data/2.5/onecall?lat=${latitude}&lon=${longitude}&units=metric&exclude=current,minutely,alerts&appid=${apiKey}`\n        )\n          .then((response) => {\n            //console.log(response);\n            return response.json();\n          })\n          .then((response) => {\n            console.log(response);\n            setWeather(response);\n            // const date = new Date(secondResponse.hourly[0].dt * 1000); //multiply unix code by 1000 to get specific date /time\n          })\n          .catch((err) => {\n            console.log(err);\n            return <Loading />;\n          });\n      });\n\n    const getTimeSeconds = (time) => {\n      const arr = time.split(\":\");\n      const seconds = arr[0] * 3600 + arr[1] * 60;\n      return seconds;\n    };\n\n    //alternative\n    const sunriseTime = new Date(sunrise * 1000).toLocaleTimeString(\"en-gb\");\n    const sunsetTime = new Date(sunset * 1000).toLocaleTimeString(\"en-gb\");\n    const currentTime = new Date().toLocaleTimeString(\"en-gb\");\n    console.log(sunriseTime, sunsetTime, currentTime);\n    //do the same with time from weatherInfo for time component\n\n    const calculateDayTime =\n      getTimeSeconds(currentTime) > getTimeSeconds(sunriseTime) &&\n      getTimeSeconds(currentTime) < getTimeSeconds(sunsetTime);\n\n    if (calculateDayTime === true) {\n      document.body.classList.add(\"light\");\n      setIsDayTime(true);\n    } else {\n      document.body.classList.remove(\"light\");\n    }\n  }, [sunrise, sunset, city]);\n\n  if (weather === null) {\n    return <Loading />;\n  }\n\n  const weatherReducer = weather.hourly.reduce((acc, weatherInfo) => {\n    const getDate = new Date(weatherInfo.dt * 1000);\n    var date = new Date(getDate);\n    const dayName = date.toLocaleDateString(\"default\", {\n      weekday: \"long\",\n    });\n\n    //console.log(getTime);\n\n    if (acc[dayName]) {\n      //if dayName exists then push in weatherInfo\n      acc[dayName].push(weatherInfo);\n    } else {\n      acc[dayName] = [weatherInfo];\n      //console.log((acc[dayName] = [weatherInfo]));\n    }\n    return acc;\n  }, {});\n  //console.log(weatherReducer);\n\n  return (\n    <div>\n      <div className=\"header-container\">\n        <Location city={city} country={country} />\n        <Search setCity={setCity} />\n      </div>\n      {/* <div className=\"days-container\">\n        {daysList.map((day) => (\n          <Days day={day} weather={weather} />\n        ))}\n      </div> */}\n      <div className=\"container\">\n        {Object.entries(weatherReducer).map(([day, times]) => {\n          //console.log(times, day);\n          //key and value from object created in reducer\n          return (\n            <div>\n              <Day day={day} />\n              <div\n                className={`container ${\n                  isDayTime ? \"vertical-light\" : \"vertical\"\n                }`}\n              >\n                {times.map((times) => (\n                  <div key={times.dt}>\n                    <Time\n                      time={new Date(times.dt * 1000)\n                        .toLocaleTimeString(\"en-gb\")\n                        .slice(0, 5)}\n                    />\n                    <WeatherIcon weatherInfo={times} />\n                    <Temp weatherInfo={times} />\n                  </div>\n                ))}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}