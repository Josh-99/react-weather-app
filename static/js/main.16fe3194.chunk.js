(this["webpackJsonpapi-testing"]=this["webpackJsonpapi-testing"]||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(4),o=n.n(r),s=(n(10),n(2)),i=n(0),l=function(e){var t,n=e.weatherInfo;return Object(i.jsx)("div",{className:"center-content margin-bottom\r ",children:"".concat((t=n.temp,Math.round(10*t)/10),"\xb0c")})},u=function(e){var t=e.time;return Object(i.jsx)("div",{className:"center-content",children:t})},d=function(e){var t=e.weatherInfo;return Object(i.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:t.weather[0].description,className:"center-content"})},j=function(e){var t=e.city,n=e.country,c=e.error;return Object(i.jsx)("div",{className:"location",children:null===c?"".concat(t,", ").concat(n):"".concat(c)})},b=function(){return Object(i.jsx)("div",{className:"loading",children:"...Loading"})},h=function(e){var t=e.day;return Object(i.jsx)("div",{className:"center-content day-margin font",children:t})},m=n(5),O=function(e){var t=e.setCity;return Object(i.jsxs)("forms",{className:"search-container",children:[Object(i.jsx)(m.a,{className:"search-icon"}),Object(i.jsx)("input",{className:"input",onBlur:function(e){return t(e.target.value)}})]})},g=function(e){var t=e.error;return Object(i.jsx)("div",{className:"error",children:t})};var f=function(){var e=Object(c.useState)("ambleside"),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)("GB"),o=Object(s.a)(r,2),m=o[0],f=o[1],v=Object(c.useState)(null),p=Object(s.a)(v,2),y=p[0],x=p[1],w=Object(c.useState)(null),S=Object(s.a)(w,2),N=S[0],L=S[1],T=Object(c.useState)(null),D=Object(s.a)(T,2),I=D[0],C=D[1],F=Object(c.useState)(null),k=Object(s.a)(F,2),B=k[0],P=k[1],M=Object(c.useState)(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]),E=Object(s.a)(M,2),J=(E[0],E[1],Object(c.useState)(!1)),q=Object(s.a)(J,2),A=q[0],G=q[1],U="7d043bcfc64688d86d552f1455872213";if(Object(c.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(n,"&appid=").concat(U)).then((function(e){if(!e.ok)throw console.log(e),g;return console.log(e),e.json()})).then((function(e){console.log(e,e.sys.sunrise),f(e.sys.country),a(e.name),C(e.sys.sunrise),P(e.sys.sunset),L(null);var t=e.coord.lat,n=e.coord.lon;return fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t,"&lon=").concat(n,"&units=metric&exclude=current,minutely,alerts&appid=").concat(U))})).catch((function(e){console.log(e),L("Unable to get data from the API- Please try again")})).then((function(e){return e.json()})).then((function(e){console.log(e),x(e)})).catch((function(e){console.log(e.message)}));var e=function(e){var t=e.split(":");return 3600*t[0]+60*t[1]},t=new Date(1e3*I).toLocaleTimeString("en-gb"),c=new Date(1e3*B).toLocaleTimeString("en-gb"),r=(new Date).toLocaleTimeString("en-gb");console.log(t,c,r),!0===(e(r)>e(t)&&e(r)<e(c))?(document.body.classList.add("light"),G(!0)):document.body.classList.remove("light")}),[I,B,n]),null===y)return Object(i.jsx)(b,{});var W=y.hourly.reduce((function(e,t){var n=new Date(1e3*t.dt),c=new Date(n).toLocaleDateString("default",{weekday:"long"});return e[c]?e[c].push(t):e[c]=[t],e}),{});return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"header-container",children:[Object(i.jsx)(j,{city:n,country:m,error:N}),Object(i.jsx)(O,{setCity:a})]}),null===N&&Object(i.jsx)("div",{className:"container",children:Object.entries(W).map((function(e){var t=Object(s.a)(e,2),n=t[0],c=t[1];return console.log(n,c),Object(i.jsxs)("div",{className:"".concat(A?"vertical-dayTime":"vertical-nightTime"),children:[Object(i.jsx)(h,{day:n}),Object(i.jsx)("div",{className:"container",children:c.map((function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)(u,{time:new Date(1e3*e.dt).toLocaleTimeString("en-gb").slice(0,5)}),Object(i.jsx)(d,{weatherInfo:e}),Object(i.jsx)(l,{weatherInfo:e})]},e.dt)}))})]})}))})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,13)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(f,{})}),document.getElementById("root")),v()}},[[12,1,2]]]);
//# sourceMappingURL=main.16fe3194.chunk.js.map