(this["webpackJsonpapi-testing"]=this["webpackJsonpapi-testing"]||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(4),s=n.n(r),o=(n(10),n(2)),i=n(0),u=function(e){var t,n=e.weatherInfo;return Object(i.jsx)("div",{className:"center-content margin-bottom\r ",children:"".concat((t=n.temp,Math.round(10*t)/10),"\xb0c")})},l=function(e){var t=e.time;return Object(i.jsx)("div",{className:"center-content",children:t})},j=function(e){var t=e.weatherInfo;return Object(i.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:t.weather[0].description,className:"center-content"})},d=function(e){var t=e.city,n=e.country;return Object(i.jsx)("div",{className:"location",children:"".concat(t,", ").concat(n)})},b=function(){return Object(i.jsx)("div",{className:"loading",children:"...Loading"})},h=function(e){var t=e.day;return Object(i.jsx)("div",{className:"center-content day-margin font",children:t})},O=n(5),m=function(e){var t=e.setCity;return Object(i.jsxs)("forms",{className:"search-container",children:[Object(i.jsx)(O.a,{className:"search-icon"}),Object(i.jsx)("input",{className:"input",onBlur:function(e){return t(e.target.value)}})]})};var f=function(){var e=Object(c.useState)("ambleside"),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)("GB"),s=Object(o.a)(r,2),O=s[0],f=s[1],g=Object(c.useState)(null),p=Object(o.a)(g,2),v=p[0],x=p[1],y=Object(c.useState)(null),w=Object(o.a)(y,2),S=w[0],N=w[1],L=Object(c.useState)(null),D=Object(o.a)(L,2),T=D[0],I=D[1],C=Object(c.useState)(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]),F=Object(o.a)(C,2),B=(F[0],F[1],Object(c.useState)(!1)),k=Object(o.a)(B,2),M=k[0],E=k[1],J="7d043bcfc64688d86d552f1455872213";if(Object(c.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(n,"&appid=").concat(J)).then((function(e){return console.log(e),e.json()})).then((function(e){console.log(e,e.sys.sunrise),f(e.sys.country),a(e.name),N(e.sys.sunrise),I(e.sys.sunset);var t=e.coord.lat,n=e.coord.lon;return fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t,"&lon=").concat(n,"&units=metric&exclude=current,minutely,alerts&appid=").concat(J)).then((function(e){return e.json()})).then((function(e){console.log(e),x(e)})).catch((function(e){return console.log(e),Object(i.jsx)(b,{})}))}));var e=function(e){var t=e.split(":");return 3600*t[0]+60*t[1]},t=new Date(1e3*S).toLocaleTimeString("en-gb"),c=new Date(1e3*T).toLocaleTimeString("en-gb"),r=(new Date).toLocaleTimeString("en-gb");console.log(t,c,r),!0===(e(r)>e(t)&&e(r)<e(c))?(document.body.classList.add("light"),E(!0)):document.body.classList.remove("light")}),[S,T,n]),null===v)return Object(i.jsx)(b,{});var P=v.hourly.reduce((function(e,t){var n=new Date(1e3*t.dt),c=new Date(n).toLocaleDateString("default",{weekday:"long"});return e[c]?e[c].push(t):e[c]=[t],e}),{});return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"header-container",children:[Object(i.jsx)(d,{city:n,country:O}),Object(i.jsx)(m,{setCity:a})]}),Object(i.jsx)("div",{className:"container",children:Object.entries(P).map((function(e){var t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)(h,{day:n}),Object(i.jsx)("div",{className:"container ".concat(M?"vertical-light":"vertical"),children:c.map((function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)(l,{time:new Date(1e3*e.dt).toLocaleTimeString("en-gb").slice(0,5)}),Object(i.jsx)(j,{weatherInfo:e}),Object(i.jsx)(u,{weatherInfo:e})]},e.dt)}))})]})}))})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,13)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(f,{})}),document.getElementById("root")),g()}},[[12,1,2]]]);
//# sourceMappingURL=main.de0a83a6.chunk.js.map